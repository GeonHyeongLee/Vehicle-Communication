#ifndef BSW_DRIVER_STM_H_
#define BSW_DRIVER_STM_H_


/*********************************************************************************************************************/
/*-----------------------------------------------------Includes------------------------------------------------------*/
/*********************************************************************************************************************/
#include "IfxStm.h"
#include "soa_publisher.h"
#include "priority.h"
#include "diagnosticsdata.h"
#include "tof.h"

/*********************************************************************************************************************/
/*------------------------------------------------------Macros-------------------------------------------------------*/
/*********************************************************************************************************************/
#define TOF_INVALID_VALUE 0xFFFFFFFF    // ToF 센서 에러 값

#define STM_CLOCK_HZ            100000000UL // 클럭 주파수 100MHz
#define PERIODIC_INTERVAL_MS    10 // 주기적 작업 처리 간격 (ms)

#define TICKS_PER_MS    (STM_CLOCK_HZ / 1000UL)
#define PERIODIC_TICKS  (PERIODIC_INTERVAL_MS * TICKS_PER_MS)

#define STM_TICK_500MS   100000000ULL   // 100 MHz 기준 500ms (0.5초)

/*********************************************************************************************************************/
/*-------------------------------------------------Global variables--------------------------------------------------*/
/*********************************************************************************************************************/

/*********************************************************************************************************************/
/*-------------------------------------------------Data Structures---------------------------------------------------*/
/*********************************************************************************************************************/

/*********************************************************************************************************************/
/*--------------------------------------------Private Variables/Constants--------------------------------------------*/
/*********************************************************************************************************************/

/*********************************************************************************************************************/
/*------------------------------------------------Function Prototypes------------------------------------------------*/
/*********************************************************************************************************************/
void stm0IsrHandler(void);
void stm1IsrHandler(void);
void stm2IsrHandler(void);

void stmInit(void);

void resetTofTimeoutTimer(void);


#endif /* BSW_DRIVER_STM_H_ */
